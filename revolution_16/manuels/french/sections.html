<html>
<head>
<title>Administration - NPDS</title>
</head>
<body bgcolor="FFFFFF" text="000000">
<font face="Verdana,Arial,Helvetica" size="2">
<center><b>Rubriques</b></center><div><br>

<p>1 <strong><span style="text-decoration: underline;">GENERALITES :</span></strong></p>
<p>Le principe est d’exploiter une hiérarchie (arborescence) à trois niveaux&nbsp;: Rubrique / Sous-Rubrique / publication.</p>
<p>De préférence, on y intégrerera des éléments permanents ou peu susceptibles de modifications.</p>
<p>A l’inverse des pages statiques, les rubriques, les sous-rubriques et
 les publications sont respectivement stockées dans trois tables de la 
base de données.&nbsp;</p>
<p>Cette organisation permet de gérer les droits de consultation des 
publications et des sous-rubriques avec la même finesse que les 
Articles. (Administrateurs / anonymes / membres / groupes / tous)</p>
<p>De même, les autorisations de création / publication / modification /
 suppression sont attribués à chaque administrateur de sous-rubriques. 
Le SuperAdmin possède tous les droits.</p>
<p>Un mini workflow propose en pied de publication&nbsp;:</p>
<p>- De manière automatique, les publications disponibles dans la même sous-rubrique.</p>
<p>- A l’initiative de l’auteur et des administrateurs, une sélection 
transversale des publications considérées comme connexes, y compris 
depuis une page statique (rubrique divers)</p>
<p>Il n’y a aucune connexion avec le système de gestion des Articles et son environnement (sujets et catégories)</p>
<p>&nbsp;</p>
<p><strong><span style="text-decoration: underline;">2 ADMINISTRATION :</span></strong></p>
<p>La gestion de cet ensemble est accessible via l’interface d’administration&nbsp;: <strong><em>Les Rubriques</em></strong>.</p>
<p>A savoir, création, modification, suppression&nbsp;:</p>
<p>- des <em>rubriques</em> (que l’on pourrait aussi appeler des dossiers)&nbsp;;</p>
<p>- des <em>sous-rubriques</em> (ou sous-dossiers)&nbsp;;</p>
<p>- des <em>publications</em>&nbsp;;</p>
<p>La règle&nbsp;principale&nbsp;: Les trois niveaux sont obligatoires 
dès la première publication. Une publication est attachée à une 
sous-rubrique&nbsp;; elle ne peut pas l’être directement à une rubrique.</p>
<p>Conséquence&nbsp;: pour mettre en ligne une publication, il faut 
disposer d’au moins une rubrique a laquelle est attachée au moins une 
sous-rubrique.</p>
<p>&nbsp;</p>
<p>Pour l’exemple, NPDS est livré en standard avec les éléments suivants&nbsp;:</p>
<p>- <strong>Modèles</strong>&nbsp;(en ligne)&nbsp;;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Rubrique</p>
<p style="padding-left: 30px;">o <em>Modification des 
thèmes&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </em>Sous-rubrique</p>
<p style="padding-left: 60px;">* Rajouts à faire dans la 
CSS&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; Publication</p>
<p>-&nbsp; <strong>Divers</strong>&nbsp;(non publiée, quel que soit son statut en/hors ligne);</p>
<p style="padding-left: 30px;">o <em>Pages statiques&nbsp;;</em></p>
<p style="padding-left: 60px;">&nbsp;* (livrée sans publication)&nbsp;;</p>
<p>- <strong>Presse-papiers</strong> (non publiée si hors ligne (**))&nbsp;;</p>
<p style="padding-left: 30px;">o <em>En instance&nbsp;;</em></p>
<p style="padding-left: 60px;">&nbsp;* (livrée sans publication)&nbsp;;</p>
<p>Cette organisation permet&nbsp;:</p>
<p>- De regrouper (rubrique <em>Divers</em>) des publications orphelines qui appartiendront, par exemple, à la sous-rubrique <em>pages statiques</em>.
 Ceci rend un peu obsolète l’ancienne publication des pages statiques 
(static.php) grâce, notamment, à la gestion des permissions en 
consultation, à la réorganisation aisée de l’ordre souhaité pour chacun 
des trois éléments, le tout dans une interface adaptée incluant TinyMce.
 Rien n’empêche cependant d’utiliser concurremment les deux modes de 
publication sur un même site.</p>
<p>&nbsp;- De préparer des publications (rubrique <em>Presse-papiers, </em>sous-rubrique<em> En instance</em>)</p>
<p>Notes&nbsp;:</p>
<p>Il est également possible de préparer un flux plus important dans une rubrique déclarée <em>Hors Ligne</em> ou encore dans une sous-rubrique visible uniquement par les administrateurs.</p>
<p>Un système d’index facilite la réorganisation à tout moment, de 
l’ordre d’apparition dans la liste, des rubriques, des sous-rubriques et
 des publication.</p>
<p>Une rubrique ayant le statut "Hors Ligne" n'est pas affichée par NPDS.</p>
<p>&nbsp;</p>
<p><strong><span style="text-decoration: underline;">2.1 Détail de l’interface d’administration des rubriques&nbsp;:</span></strong></p>
<p><strong>2.1.1 Rubriques&nbsp;:</strong></p>
<p><span style="text-decoration: underline;">2.1.1.1&nbsp; Ajouter&nbsp;une rubrique: </span></p>
<p>Documenter le nom (mode texte brut), éventuellement le texte d’introduction (TinyMce)</p>
<p>La rubrique est créée en «&nbsp;hors ligne&nbsp;». La mise en ligne est proposée en modification.</p>
<p><span style="text-decoration: underline;">2.1.1.2&nbsp; Modifier une rubrique&nbsp;:</span></p>
<p>Cliquer sur son titre dans la liste des rubriques pour afficher le formulaire.</p>
<p>Le choix en/hors ligne est alors possible.</p>
<p><strong>2.1.2 Sous-rubriques&nbsp;:</strong></p>
<p><span style="text-decoration: underline;">2.1.2.1&nbsp; Ajouter une sous-rubrique&nbsp;:</span></p>
<p>Sélectionner la rubrique de rattachement et le titre. Une image associée est possible, qui doit être présente dans <em>images/sections </em>(le
 flash est supporté).&nbsp; L’éditeur est disponible pour saisir un 
texte d’introduction. Indiquez enfin les droits de consultation.</p>
<p><span style="text-decoration: underline;">2.1.2.2&nbsp; Modifier une sous-rubrique&nbsp;:</span></p>
<p>Cliquer sur son titre dans la liste des sous-rubriques pour afficher le formulaire.</p>
<p>Formulaire identique à celui de la création.</p>
<p><strong>2.1.3 Publications&nbsp;:</strong></p>
<p><span style="text-decoration: underline;">2.1.3.1 Création&nbsp;:</span></p>
<p>Le multichoix propose une sous-rubrique de rattachement. Le titre est saisi en mode texte et le contenu à l’aide de l’éditeur.</p>
<p>Le contenu peut également afficher du code Php, C, Perl…, à condition d’encadrer le dit code par les pseudo-balises [code] <em>votre code source</em> [/code]</p>
<p>Le Contenu peut être fractionné en plusieurs pages. La rupture 
s’effectue grâce à la pseudo-balise [pageX] où X peut être un caractère 
quelconque. Exemple: |page1] puis [page2]...</p>
<p>Le paramétrage des droits de consultation est proposé en pied de formulaire.</p>
<p>Si l’auteur n’est pas SuperAdmin, la mise en ligne n’est pas 
automatique comme l’indique un texte d’information en pied de 
formulaire.</p>
<p>Il voit s’afficher la liste de ses publications en attente de validation. Ces publications sont modifiables.</p>
<p>S’il est SuperAdmin, la mise en ligne de ses propres publications sera immédiate.</p>
<p>Les publications de l’ensemble des contributeurs sont visibles et accessibles pour suppression / modification / mise en ligne.</p>
<p>Outre les publications en attente de validation, les éléments suivants sont proposés&nbsp;:</p>
<p>- Gestion des droits des différents auteurs, sous-rubrique par sous-rubrique pour créer / modifier / publier / supprimer</p>
<p>- Les paramètres liés à l’illustration</p>
<p>La bascule toggle-div (utilisée pour la consultation), positionnée sur&nbsp;:</p>
<p><em>Off</em>&nbsp;: provoque un affichage exhaustif en liste des 
rubriques suivies de leurs sous-rubriques et de leurs publications 
associées, sans possibilité de «&nbsp;pliage/dépliage&nbsp;».</p>
<p><em>On</em>&nbsp;: affiche les rubriques et leurs sous-rubriques sans le détail des publication.</p>
<p>L’arborescence peut être développée/regroupée au niveau de chaque rubrique.</p>
<p>Note&nbsp;: l’accès à la gestion des publications connexes n’est pas proposé en mode «&nbsp;création&nbsp;».</p>
<p><span style="text-decoration: underline;">&nbsp;</span></p>
<p><span style="text-decoration: underline;">2.1.3.2 Modification&nbsp;: </span></p>
<p>Il existe deux moyens d’accéder à une publication pour la modifier.</p>
<p>- saisir son id dans le champ proposé en tête de liste, à condition de la connaître.</p>
<p>- Cliquer sur son titre dans la liste. Le formulaire de modification 
est quasi-identique à celui de la création si ce n’est qu’il propose en 
outre, la gestion des publications connexes.</p>
<p>Outre le contenu de la publication, il est possible d’en modifier le 
titre, la sous-rubrique d’appartenance et les droits de consultation. 
Par exemple, un article en cours de modification peut d’abord être passé
 en niveau administrateur avant intervention.</p>
<p>La gestion des publications connexes offre une possibilité de 
navigation transversale. Après saisie, les publications 
«&nbsp;connexes&nbsp;» seront proposées en pied de l’article consulté, 
dans une zone nommée «&nbsp;cela pourrait vous intéresser&nbsp;».</p>
<p>Le lien «&nbsp;publications connexes&nbsp;» est proposé sous le multichoix «&nbsp;sous-rubrique&nbsp;».</p>
<p>Rappel&nbsp;: ce choix n’est disponible qu’en mode «&nbsp;modification&nbsp;».</p>
<p>Une liste de l’ensemble des articles en ligne est proposée et il 
suffit de cocher la case en regard d’un ou de plusieurs article(s) pour 
qu’ils soient pris en compte.</p>
<p>A noter&nbsp;: cette disposition s’applique également aux 
publications dites «&nbsp;orphelines&nbsp;» (sous-rubrique divers, par 
exemple). La conséquence est qu’un lecteur provenant d’un lien direct 
vers une «&nbsp;page statique&nbsp;» peut se retrouver dans 
l’arborescence des rubriques.</p>
<p>&nbsp;</p>
<p><strong><span style="text-decoration: underline;">3 INFORMATIONS TECHNIQUES :</span></strong></p>
<p>&nbsp;</p>
<p><span style="text-decoration: underline;"><strong>3.1 Les tables concernées&nbsp;:</strong></span></p>
<p>Rubriques&nbsp;:&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <em>rubriques</em></p>
<p>Sous-rubriques&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <em>sections</em></p>
<p>Publications&nbsp;:&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <em>seccont</em></p>
<p>&nbsp;</p>
<p><span style="text-decoration: underline;"><strong>3.2 Exploitation&nbsp;:</strong></span></p>
<p>- <span style="text-decoration: underline;">A</span><span style="text-decoration: underline;">ppel direct de l'ensemble:</span> <strong>sections.php</strong>&nbsp;</p>
<p>- <span style="text-decoration: underline;">A</span><span style="text-decoration: underline;">ppel d'une rubrique:</span> <strong>sections.php?rubric=3</strong> (pour la rubrique d'id 3)&nbsp;</p>
<p>Note, la liste comprendra toutes les publications de toutes les sous-rubriques appartenant a cette rubrique.</p>
<p>- <span style="text-decoration: underline;">A</span><span style="text-decoration: underline;">ppel d'une sous-rubrique:</span> <strong>sections.php?op=listarticles&amp;secid=4</strong> (pour les sous-rubriques de la rubrique d'id 4 et leurs publications rattachées)&nbsp;</p>
<p>- <span style="text-decoration: underline;">Ap</span><span style="text-decoration: underline;">pel d'une publication:</span> <strong>sections.php?op=viewarticle&amp;artid=24</strong> (pour n'importe quelle publication, qu'elle appartienne ou non à la rubrique "divers").</p>
<p>- <span style="text-decoration: underline;">Appel d’une «&nbsp;page statique&nbsp;»&nbsp;:</span> <strong>sections.php&nbsp;?op=viewarticle&amp;artid=18</strong></p>
<p>- <span style="text-decoration: underline;">Appel de l'ensemble depuis un bloc&nbsp;:</span> <strong>fuction#bloc_rubrique</strong></p>
<p>&nbsp;</p>
<p><span style="text-decoration: underline;"><strong>3.3 Gestion des droits&nbsp;:</strong></span></p>
<p> - Pour un SuperAdmin : tous est autorisé </p>
<p> - Pour un administrateur de Rubrique : la gestion des droits doit se
 faire, sous-rubriques par sous-rubriques (attention lors de la création
 de nouvelles rubriques, sous-rubriques aucun droit n'est affecté par 
défaut) selon 4 critères :</p>
<p> - Créer : autorise la création d'une publication qui aura le statut "en attente de validation" dans un premier temps </p>
<p> - Publier : autorise la mise en ligne d'une publication ayant le statut "en attente de validation" sur le site </p>
<p> - Modifier : autorise la modification d'un contenu en ligne </p>
<p> - Supprimer : autorise la suppression d'un contenu en ligne </p>
<p>  Chaque auteur peut se voir allouer un ou plusieurs droits sur une ou plusieurs rubriques, sous-rubriques.</p>
<p>&nbsp;</p><span style="text-decoration: underline;"><strong>3.4 Consultez également :</strong></span><p></p>
<p>- La Bible de NPDS</p>
<p>- La documentation de l'interface d'administration de <em>NPDS</em> (version actuelle: 1.3)</p>
<p>&nbsp;</p>
<p><span style="text-decoration: underline;"><strong>3.5 Aller plus loin :</strong></span></p>
<p>L'éditeur TinyMce permet l'exploitation des <strong>Meta_Mots</strong>. Vous pouvez, par exemple, intégrer dans votre publication des notes qui ne seront pas vues par les lecteurs ( cf le meta <strong><em>note ... /</em></strong> ) ou encore des dates de création puis de révision du document considéré.</p>
<p>&nbsp;</p>
<hr width="300">
<p>&nbsp;</p>
<p>(*) Npds offre les moyens de publication suivants:</p>
<p>- Les Articles (news);</p>
<p>- Les Editos (anonymes/inscrits, jour/nuit)</p>
<p>- Les Rubriques;</p>
<p>- Les pages statiques;</p>
<p>- Les FAQs;</p>
<p>&nbsp;</p>
<p>(**) La rubrique presse-papier "en-ligne" est visible dans un bloc 
(function#bloc_rubrique) alors qu'elle ne l'est pas dans l'appel 
standard (rubriques.php).</p>
<p>(***) Ne <b>supprimez pas</b> les rubriques et sous-rubriques livrées en standard sans savoir ce que vous faites.</p>
</div></font>
<br />

<center><img src="../../images/admin/manuels.gif" border="0" /></center>
</font>
</body>
</html>