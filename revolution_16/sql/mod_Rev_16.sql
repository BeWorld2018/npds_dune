-- --------------------------------------------------------
--
-- Structure de la table 'authors'
--
DROP TABLE IF EXISTS authors;
CREATE TABLE IF NOT EXISTS `authors` (
  aid varchar(30) NOT NULL DEFAULT '',
  `name` varchar(50) DEFAULT NULL,
  url varchar(60) DEFAULT NULL,
  email varchar(60) DEFAULT NULL,
  pwd varchar(40) DEFAULT NULL,
  counter int(11) NOT NULL DEFAULT '0',
  radminfilem tinyint(2) NOT NULL DEFAULT '0',
  radminsuper tinyint(2) NOT NULL DEFAULT '1',
  PRIMARY KEY (aid)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- Contenu de la table `authors`
--
INSERT INTO authors VALUES ('Root', 'Root', '', 'root@root.com', '', 1, 0, 1);
-- --------------------------------------------------------

--
-- Structure de la table 'droits'
--

DROP TABLE IF EXISTS droits;
CREATE TABLE IF NOT EXISTS droits (
  d_aut_aid varchar(40) NOT NULL COMMENT 'id administrateur',
  d_fon_fid tinyint(3) unsigned NOT NULL COMMENT 'id fonction',
  d_droits varchar(5) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Dune_proto';
-- --------------------------------------------------------
--
-- Structure de la table 'fonctions'
--
DROP TABLE IF EXISTS fonctions;
CREATE TABLE IF NOT EXISTS fonctions (
  fid mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT 'id unique auto incrémenté',
  fnom varchar(40) NOT NULL,
  fdroits1 tinyint(3) unsigned NOT NULL,
  fdroits1_descr varchar(40) NOT NULL,
  finterface tinyint(1) unsigned NOT NULL COMMENT '1 ou 0 : la fonction dispose ou non d''une interface',
  fetat tinyint(1) NOT NULL COMMENT '0 ou 1  9 : non active ou installé, installé',
  fretour varchar(500) NOT NULL COMMENT 'utiliser par les fonctions de categorie Alerte : nombre, ou ',
  fretour_h varchar(500) NOT NULL,
  fnom_affich varchar(200) NOT NULL,
  ficone varchar(40) NOT NULL,
  furlscript varchar(4000) NOT NULL COMMENT 'attribut et contenu  de balise A : href="xxx", onclick="xxx"  etc',
  fcategorie tinyint(3) unsigned NOT NULL,
  fcategorie_nom varchar(200) NOT NULL,
  fordre tinyint(2) unsigned NOT NULL,
  PRIMARY KEY (fid)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COMMENT='Dune_proto' AUTO_INCREMENT=70 ;

--
-- Contenu de la table 'fonctions'
--

INSERT INTO fonctions (fid, fnom, fdroits1, fdroits1_descr, finterface, fetat, fretour, fretour_h, fnom_affich, ficone, furlscript, fcategorie, fcategorie_nom, fordre) VALUES
(1, 'edito', 1, '', 1, 1, '', '', 'Edito', 'edito', 'href="admin.php?op=Edito"', 1, 'Contenu', 0),
(2, 'adminStory', 1, '', 1, 1, '', '', 'Nouvel Article', 'postnew', 'href="admin.php?op=adminStory"', 1, 'Contenu', 1),
(3, 'sections', 1, '', 1, 1, '', '', 'Rubriques', 'sections', 'href="admin.php?op=sections"', 1, 'Contenu', 2),
(4, 'topicsmanager', 1, '', 1, 1, '', '', 'Gestion des Sujets', 'topicsman', 'href="admin.php?op=topicsmanager"', 1, 'Contenu', 3),
(5, 'links', 1, '', 1, 1, '', '', 'Liens Web', 'links', 'href="admin.php?op=links"', 1, 'Contenu', 5),
(6, 'FaqAdmin', 1, '', 1, 1, '1', '', 'FAQ', 'faq', 'href="admin.php?op=FaqAdmin"', 1, 'Contenu', 6),
(7, 'Ephemerids', 1, '', 1, 1, '1', '', 'Ephémérides', 'ephem', 'href="admin.php?op=Ephemerids"', 1, 'Contenu', 7),
(8, 'HeadlinesAdmin', 1, '', 1, 1, '', '', 'News Externes', 'headlines', 'href="admin.php?op=HeadlinesAdmin"', 1, 'Contenu', 8),
(9, 'DownloadAdmin', 1, '', 1, 1, '', '', 'Téléchargements', 'download', 'href="admin.php?op=DownloadAdmin"', 1, 'Contenu', 9),
(10, 'mod_users', 1, '', 1, 1, '', '', 'Utilisateurs', 'users', 'href="admin.php?op=mod_users"', 2, 'Utilisateurs', 1),
(11, 'groupes', 1, '', 1, 1, '', '', 'Groupes', 'groupes', 'href="admin.php?op=groupes"', 2, 'Utilisateurs', 2),
(12, 'mod_authors', 1, '', 1, 1, '', '', 'Administrateurs', 'authors', 'href="admin.php?op=mod_authors"', 2, 'Utilisateurs', 3),
(13, 'MaintForumAdmin', 1, '', 1, 1, '', '', 'Maintenance Forums', 'forum', 'href="admin.php?op=MaintForumAdmin"', 3, 'Communication', 0),
(14, 'ForumConfigAdmin', 1, '', 1, 1, '', '', 'Configuration Forums', 'forum', 'href="admin.php?op=ForumConfigAdmin"', 3, 'Communication', 0),
(15, 'ForumAdmin', 1, '', 1, 1, '', '', 'Edition Forums', 'forum', 'href="admin.php?op=ForumAdmin"', 3, 'Communication', 0),
(16, 'lnl', 1, '', 1, 1, '', '', 'Lettre D''info', 'lnl', 'href="admin.php?op=lnl"', 3, 'Communication', 0),
(17, 'email_user', 1, '', 1, 1, '', '', 'Message Interne', 'email_user', 'href="admin.php?op=email_user"', 3, 'Communication', 0),
(18, 'BannersAdmin', 1, '', 1, 1, '', '', 'Bannières', 'banner', 'href="admin.php?op=BannersAdmin"', 3, 'Communication', 0),
(19, 'create', 1, '', 1, 1, '', '', 'Sondages', 'newpoll', 'href="admin.php?op=create"', 3, 'Communication', 0),
(20, 'reviews', 1, '', 1, 1, '', '', 'Critiques', 'reviews', 'href="admin.php?op=reviews"', 3, 'Communication', 0),
(21, 'hreferer', 1, '', 1, 1, '', '', 'Sites Référents', 'referer', 'href="admin.php?op=hreferer"', 3, 'Communication', 0),
(22, 'blocks', 1, '', 1, 1, '', '', 'Blocs', 'block', 'href="admin.php?op=blocks"', 4, 'Interface', 0),
(23, 'mblock', 1, '', 1, 1, '', '', 'Bloc Principal', 'blockmain', 'href="admin.php?op=mblock"', 4, 'Interface', 0),
(24, 'ablock', 1, '', 1, 1, '', '', 'Bloc Administration', 'blockadm', 'href="admin.php?op=ablock"', 4, 'Interface', 0),
(25, 'Configure', 1, '', 1, 1, '', '', 'Préférences', 'preferences', 'href="admin.php?op=Configure"', 5, 'Syst&#xE8;me', 0),
(26, 'ConfigFiles', 1, '', 1, 1, '', '', 'Fichiers configurations', 'preferences', 'href="admin.php?op=ConfigFiles"', 5, 'Syst&#xE8;me', 0),
(27, 'FileManager', 1, '', 1, 1, '', '', 'Gestionnaire Fichiers', 'filemanager', 'href="admin.php?op=FileManager"', 5, 'Syst&#xE8;me', 0),
(28, 'supercache', 1, '', 1, 1, '', '', 'SuperCache', 'overload', 'href="admin.php?op=supercache"', 5, 'Syst&#xE8;me', 0),
(29, 'OptimySQL', 1, '', 1, 1, '', '', 'OptimySQL', 'optimysql', 'href="admin.php?op=OptimySQL"', 5, 'Syst&#xE8;me', 0),
(30, 'SavemySQL', 1, '', 1, 1, '', '', 'SavemySQL', 'savemysql', 'href="admin.php?op=SavemySQL"', 5, 'Syst&#xE8;me', 0),
(31, 'MetaTagAdmin', 1, '', 1, 1, '', '', 'MétaTAGs', 'metatags', 'href="admin.php?op=MetaTagAdmin"', 5, 'Syst&#xE8;me', 0),
(32, 'MetaLangAdmin', 1, '', 1, 1, '', '', 'META-LANG', 'metalang', 'href="admin.php?op=Meta-LangAdmin"', 5, 'Syst&#xE8;me', 0),
(33, 'setban', 1, '', 1, 1, '', '', 'IP', 'ipban', 'href="admin.php?op=Extend-Admin-SubModule&amp;ModPath=ipban&amp;ModStart=setban"', 5, 'Syst&#xE8;me', 0),
(34, 'session_log', 1, '', 1, 1, '', '', 'Logs', 'logs', 'href="admin.php?op=Extend-Admin-SubModule&ModPath=session-log&ModStart=session-log"', 5, 'Syst&#xE8;me', 0),
(36, 'mes_npds_versus', 1, '', 1, 1, '', 'Une nouvelle version est disponible ! Cliquez pour acc&#xE9;der &#xE0; la zone de t&#xE9;l&#xE9;chargement de NPDS.', '', 'message_npds', '', 9, 'Alerte', 0),
(37, 'autoStory', 1, '', 1, 0, '0', '', 'Auto-Articles', 'autonews', 'href="admin.php?op=autoStory"', 9, 'Alerte', 0),
(38, 'submissions', 1, '', 1, 1, '4', 'Article en attente de validation !', 'Articles', 'submissions', 'href="admin.php?op=submissions"', 9, 'Alerte', 0),
(39, 'hreferer_al', 1, '', 1, 0, '!!!', 'Limite des r&#xE9;f&#xE9;rants atteinte : pensez &#xE0; archiver vos r&#xE9;f&#xE9;rants.', 'Sites Référents', 'referer', 'href="admin.php?op=hreferer"', 9, 'Alerte', 0),
(49, 'npds_twi', 0, '', 1, 1, '', '', 'Npds_Twitter', 'npds_twi', 'href="admin.php?op=Extend-Admin-SubModule&ModPath=npds_twi&ModStart=admin/npds_twi_set"', 6, 'Modules', 0),
(62, 'mes_npds_3', 0, '', 1, 1, '', ' Alerte rouge Ã§a bug ..', '', 'flag_red', '', 9, 'Alerte', 0),
(59, 'mes_npds_2', 0, '', 1, 1, '', 'Ceci est une note d''information provenant de NPDS.', '', 'flag_red', '', 9, 'Alerte', 0),
(51, 'modules', 1, '', 1, 1, '', '', 'Gestion modules', 'modules', 'href="admin.php?op=modules"', 5, 'Syst&#xE8;me', 0),
(58, 'mes_npds_1', 0, '', 1, 1, '', 'Ceci est une alerte de sÃ©curitÃ© provenant de NPDS.', '', 'flag_red', '', 9, 'Alerte', 0),
(40, 'abla', 1, '', 1, 1, '', '', 'Blackboard', 'abla', 'href="abla.php"', 5, 'Syst&#xE8;me', 0),
(35, 'reviews', 1, '', 1, 0, '0', 'Critique en atttente de validation.', 'Critiques', 'reviews', 'href="admin.php?op=reviews"', 9, 'Alerte', 0),
(41, 'newlink', 1, '', 1, 0, '0', 'Lien &#xE0; valider', 'Lien', 'links', 'href="admin.php?op=links"', 9, 'Alerte', 0),
(42, 'brokenlink', 1, '', 1, 0, '0', 'Lien rompu &#xE0; valider', 'Lien rompu', 'links', 'href="admin.php?op=LinksListBrokenLinks"', 9, 'Alerte', 0),
(43, 'archive-stories', 1, '', 1, 1, '', '', 'Archives articles', 'archive-stories', 'href="admin.php?op=Extend-Admin-SubModule&ModPath=archive-stories&ModStart=admin/archive-stories_set"', 1, 'Contenu', 4);

-- --------------------------------------------------------
--
-- Structure de la table 'metalang'
--
DROP TABLE IF EXISTS metalang;
CREATE TABLE IF NOT EXISTS metalang (
  def varchar(50) NOT NULL DEFAULT '',
  content text NOT NULL,
  type_meta varchar(4) NOT NULL DEFAULT 'mot',
  type_uri char(1) NOT NULL DEFAULT '-',
  uri varchar(255) DEFAULT NULL,
  description text,
  obligatoire char(3) NOT NULL DEFAULT '0',
  PRIMARY KEY (def),
  KEY type_meta (type_meta)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
--
-- Contenu de la table 'metalang'
--
INSERT INTO metalang (def, content, type_meta, type_uri, uri, description, obligatoire) VALUES
('Dev', 'Developpeur', 'mot', '-', NULL, NULL, '0'),
('NPDS', '<a href="http://www.npds.org" target="_blank" title="www.npds.org">NPDS</a>', 'mot', '-', NULL, NULL, '1'),
(':-)', '$cmd=MM_img("forum/smilies/icon_smile.gif");', 'smil', '-', NULL, NULL, '1'),
(':-]', '$cmd=MM_img("forum/smilies/icon_smile.gif");', 'smil', '-', NULL, NULL, '1'),
(';-)', '$cmd=MM_img("forum/smilies/icon_wink.gif");', 'smil', '-', NULL, NULL, '1'),
(';-]', '$cmd=MM_img("forum/smilies/icon_wink.gif");', 'smil', '-', NULL, NULL, '1'),
(':-(', '$cmd=MM_img("forum/smilies/icon_frown.gif");', 'smil', '-', NULL, NULL, '1'),
(':-[', '$cmd=MM_img("forum/smilies/icon_frown.gif");', 'smil', '-', NULL, NULL, '1'),
('8-)', '$cmd=MM_img("forum/smilies/icon_cool.gif");', 'smil', '-', NULL, NULL, '1'),
('8-]', '$cmd=MM_img("forum/smilies/icon_cool.gif");', 'smil', '-', NULL, NULL, '1'),
(':-P', '$cmd=MM_img("forum/smilies/icon_razz.gif");', 'smil', '-', NULL, NULL, '1'),
(':-D', '$cmd=MM_img("forum/smilies/icon_biggrin.gif");', 'smil', '-', NULL, NULL, '1'),
(':=!', '$cmd=MM_img("forum/smilies/yaisse.gif");', 'smil', '-', NULL, NULL, '1'),
(':b', '$cmd=MM_img("forum/smilies/icon_tongue.gif");', 'smil', '-', NULL, NULL, '1'),
(':D', '$cmd=MM_img("forum/smilies/icon_grin.gif");', 'smil', '-', NULL, NULL, '1'),
(':#', '$cmd=MM_img("forum/smilies/icon_ohwell.gif");', 'smil', '-', NULL, NULL, '1'),
(':-o', '$cmd=MM_img("forum/smilies/icon_eek.gif");', 'smil', '-', NULL, NULL, '1'),
(':-?', '$cmd=MM_img("forum/smilies/icon_confused.gif");', 'smil', '-', NULL, NULL, '1'),
(':-|', '$cmd=MM_img("forum/smilies/icon_mad.gif");', 'smil', '-', NULL, NULL, '1'),
(':|', '$cmd=MM_img("forum/smilies/icon_mad2.gif");', 'smil', '-', NULL, NULL, '1'),
(':paf', '$cmd=MM_img("forum/smilies/pafmur.gif");', 'smil', '-', NULL, NULL, '1'),
('dateL', '$cmd=date("d/m/Y");', 'meta', '-', NULL, '[french]Date longue JJ/MM/YYYY[/french]', '1'),
('heureC', '$cmd=date("H:i");', 'meta', '-', NULL, '[french]Heure courte HH:MM[/french]', '1'),
('heureL', '$cmd=date("H:i:s");', 'meta', '-', NULL, '[french]Heure longue HH:MM:SS[/french]', '1'),
('dateC', '$cmd=date("d/m/y");', 'meta', '-', NULL, '[french]Date longue JJ/MM[/french]', '1'),
('!a/!', '&#92;', 'meta', '-', NULL, '[french]anti-slash[/french]', '1'),
('!sc_infos_else!', '&nbsp;', 'meta', '-', NULL, '[french]affiche les informations de SuperCache[/french]', '1'),
('!sc_infos!', '$cmd=SC_infos();', 'meta', '-', NULL, '[french]affiche les informations de SuperCache[/french]', '1'),
('!slogan!', '$cmd=$GLOBALS[''slogan''];', 'meta', '-', NULL, '[french]variable global $slogan[/french]', '1'),
('!bargif!', '$cmd=$GLOBALS[''bargif''];', 'meta', '-', NULL, '[french]variable global $bargif[/french]', '1'),
('!theme!', '$cmd=$GLOBALS[''theme''];', 'meta', '-', NULL, '[french]variable global $theme[/french]', '1'),
('!sitename!', '$cmd=$GLOBALS[''sitename''];', 'meta', '-', NULL, '[french]variable global $sitename[/french]', '1'),
('!bgcolor1!', '$cmd=$GLOBALS[''bgcolor1''];', 'meta', '-', NULL, '[french]variable global $bgcolor1 (ancien theme)[/french]', '1'),
('!bgcolor2!', '$cmd=$GLOBALS[''bgcolor2''];', 'meta', '-', NULL, '[french]variable global $bgcolor2 (ancien theme)[/french]', '1'),
('!bgcolor3!', '$cmd=$GLOBALS[''bgcolor3''];', 'meta', '-', NULL, '[french]variable global $bgcolor3 (ancien theme)[/french]', '1'),
('!bgcolor4!', '$cmd=$GLOBALS[''bgcolor4''];', 'meta', '-', NULL, '[french]variable global $bgcolor4 (ancien theme)[/french]', '1'),
('!bgcolor5!', '$cmd=$GLOBALS[''bgcolor5''];', 'meta', '-', NULL, '[french]variable global $bgcolor5 (ancien theme)[/french]', '1'),
('!bgcolor6!', '$cmd=$GLOBALS[''bgcolor6''];', 'meta', '-', NULL, '[french]variable global $bgcolor6 (ancien theme)[/french]', '1'),
('!textcolor1!', '$cmd=$GLOBALS[''textcolor1''];', 'meta', '-', NULL, '[french]variable global $textcolor1 (ancien theme)[/french]', '1'),
('!textcolor2!', '$cmd=$GLOBALS[''textcolor2''];', 'meta', '-', NULL, '[french]variable global $textcolor2 (ancien theme)[/french]', '1'),
('!opentable!', '$cmd=sub_opentable();', 'meta', '-', '', '[french]Appel la fonction OpenTable de NPDS[/french]', '1'),
('!closetable!', '$cmd=sub_closetable();', 'meta', '-', '', '[french]Appel la fonction CloseTable de NPDS[/french]', '1'),
('Scalcul', 'function MM_Scalcul($opex,$premier,$deuxieme) {\n   if ($opex=="+") {$tmp=$premier+$deuxieme;}\n   if ($opex=="-") {$tmp=$premier-$deuxieme;}\n   if ($opex=="*") {$tmp=$premier*$deuxieme;}\n   if ($opex=="/") {\n      if ($deuxieme==0) {\n         $tmp="Division by zero !";\n      } else {\n         $tmp=$premier/$deuxieme;\n      }\n   }\n   return ($tmp);\n}', 'meta', '-', NULL, '[french]Retourne la valeur du calcul : syntaxe Scalcul(op,nombre,nombre) ou op peut &ecirc;tre : + - * /[/french]', '1'),
('!anti_spam!', 'function MM_anti_spam ($arg) {\n   return("<a href=\\"mailto:".anti_spam($arg, 1)."\\" class=\\"noir\\" target=\\"_blank\\">".anti_spam($arg, 0)."</a>");\n}', 'meta', '-', NULL, '[french]Encode un email et cr&eacute;e un &lta href=mailto ...&gtEmail&lt/a&gt[/french]', '1'),
('!msg_foot!', 'function MM_msg_foot () {\n   global $foot1, $foot2, $foot3, $foot4;\n\n   if ($foot1) $MT_foot=stripslashes($foot1)."<br />";\n   if ($foot2) $MT_foot.=stripslashes($foot2)."<br />";\n   if ($foot3) $MT_foot.=stripslashes($foot3)."<br />";\n   if ($foot4) $MT_foot.=stripslashes($foot4);\n   return (aff_langue($MT_foot));\n}', 'meta', '-', NULL, '[french]Gestion des messages du footer du theme (les 4 pieds de page dans Admin / Pr&eacute;f&eacute;rences)[/french]', '1'),
('!date!', 'function MM_date () {\n   global $locale, $gmt;\n\n   setlocale (LC_TIME, aff_langue($locale));\n   $MT_date=strftime(translate("daydate"),time()+($gmt*3600));\n   return ($MT_date);\n}', 'meta', '-', NULL, '[french]Date du jour - se base sur le format de daydate (fichier de traduction)[/french]', '1'),
('!banner!', 'function MM_banner () {\n   global $banners, $hlpfile;\n\n   if (($banners) and (!$hlpfile)) {\n      ob_start();\n      include("banners.php");\n      $MT_banner=ob_get_contents();\n      ob_end_clean();\n   } else {\n      $MT_banner="";\n   }\n   return ($MT_banner);\n}', 'meta', '-', NULL, '[french]Syst&egrave;me de banni&egrave;re[/french]', '1'),
('!search_topics!', 'function MM_search_topics() {\n   global $NPDS_Prefix;\n\n   $MT_search_topics="<form action=\\"search.php\\" method=\\"post\\"><b>".translate("Topics")." </b>";\n   $MT_search_topics.="<select class=\\"textbox_standard\\" name=\\"topic\\"onChange=''submit()''>" ;\n   $MT_search_topics.="<option value=\\"\\">".translate("All Topics")."</option>\\n";\n\n   $rowQ=Q_select("select topicid, topictext from ".$NPDS_Prefix."topics order by topictext", 86400);\n   while(list(,$myrow) = each($rowQ)) {\n     $MT_search_topics.="<option value=\\"".$myrow[''topicid'']."\\">".aff_langue($myrow[''topictext''])."</option>\\n";\n   }\n   $MT_search_topics.="</select></form>";\n   return ($MT_search_topics);\n}', 'meta', '-', NULL, '[french]Liste des Topic => Moteur de recherche interne (Combo)[/french]', '1'),
('!search!', 'function MM_search() {\n   $MT_search="<form action=\\"search.php\\" method=\\"post\\"><b>".translate("Search")."</b>\n   <input class=\\"textbox_standard\\" type=\\"name\\" name=\\"query\\" size=\\"10\\"></form>";\n   return ($MT_search);\n}', 'meta', '-', NULL, '[french]Ligne de saisie => Moteur de recherche[/french]', '1'),
('!member!', 'function MM_member() {\n   global $cookie, $anonymous;\n\n   $username = $cookie[1];\n   if ($username=="") {$username=$anonymous;}\n   ob_start();Mess_Check_Mail($username);\n      $MT_member=ob_get_contents();\n   ob_end_clean();\n   return ($MT_member);\n}', 'meta', '-', NULL, '[french]Ligne Anonyme / membre gestion du compte / Message Interne (MI)[/french]', '1'),
('!nb_online!', 'function MM_nb_online() {\n   list($MT_nb_online, $MT_whoim)=Who_Online();\n   return ($MT_nb_online);\n}', 'meta', '-', NULL, '[french]Nombre de session active[/french]', '1'),
('!whoim!', 'function MM_whoim() {\r\n   list($MT_nb_online, $MT_whoim)=Who_Online();\r\n   return ($MT_whoim);\r\n}', 'meta', '-', NULL, '[french]Affiche Qui est en ligne ? + message de bienvenue[/french]', '1'),
('!membre_nom!', 'function MM_membre_nom() {\n   global $NPDS_Prefix,$cookie;\n\n   $uname=arg_filter($cookie[1]);\n   $MT_name="";\n   $rowQ = Q_select("select name from ".$NPDS_Prefix."users where uname=''$uname''", 3600);\n   list(,$myrow) = each($rowQ);\n   $MT_name=$myrow[''name''];\n   return ($MT_name);\n}', 'meta', '-', NULL, '[french]R&eacute;cup&eacute;ration du nom du membre ou rien[/french]', '1'),
('!membre_pseudo!', 'function MM_membre_pseudo() {\n   global $cookie;\n\n   return ($cookie[1]);\n}', 'meta', '-', NULL, '[french]Alias de !membre_nom![/french]', '1'),
('blocID', 'function MM_blocID($arg) {\n  return(@oneblock(substr($arg,1), substr($arg,0,1)."B"));\n}', 'meta', '-', NULL, '[french]Fabrique un bloc R (droite) ou L (gauche) en s''appuyant sur l''ID (voir gestionnaire de blocs) pour incorporation / syntaxe : blocID(R1) ou blocID(L2)[/french]', '1'),
('!block!', 'function MM_block($arg) {\n   return (meta_lang("blocID($arg)"));\n}', 'meta', '-', NULL, '[french]Alias de blocID()[/french]', '1'),
('!leftblocs!', 'function MM_leftblocs() {\n   ob_start();\n      leftblocks();\n      $M_Lblocs=ob_get_contents();\n   ob_end_clean();\n   return ($M_Lblocs);\n}', 'meta', '-', NULL, '[french]Fabrique tous les blocs de gauche[/french]', '1'),
('!rightblocs!', 'function MM_rightblocs() {\n   ob_start();\n      rightblocks();\n      $M_Lblocs=ob_get_contents();\n   ob_end_clean();\n   return ($M_Lblocs);\n}', 'meta', '-', NULL, '[french]Fabrique tous les blocs de droite[/french]', '1'),
('articleID', 'function MM_articleID($arg) {\n   global $NPDS_Prefix;\n   global $nuke_url;\n\n   $arg = arg_filter($arg);\n   $rowQ = Q_select("SELECT title FROM ".$NPDS_Prefix."stories where sid=''$arg''", 3600);\n   list(,$myrow) = each($rowQ);\n   return ("<a href=\\"$nuke_url/article.php?sid=$arg\\" class=\\"noir\\">".$myrow[''title'']."</a>");\n}', 'meta', '-', NULL, '[french]R&eacute;cup&eacute;ration du titre et fabrication d''une url pointant sur l''article (ID)[/french]', '1'),
('!article!', 'function MM_article($arg) {\n   return (meta_lang("articleID($arg)"));\n}', 'meta', '-', NULL, '[french]Alias d''articleID[/french]', '1'),
('article_completID', 'function MM_article_completID($arg) {\n   if ($arg>0) {\n      $story_limit=1;\n      $news_tab=prepa_aff_news("article",$arg,"");\n   } else {\n      $news_tab=prepa_aff_news("index","","");\n      $story_limit=abs($arg)+1;\n   }\n   $aid=unserialize($news_tab[$story_limit][''aid'']);\n   $informant=unserialize($news_tab[$story_limit][''informant'']);\n   $datetime=unserialize($news_tab[$story_limit][''datetime'']);\n   $title=unserialize($news_tab[$story_limit][''title'']);\n   $counter=unserialize($news_tab[$story_limit][''counter'']);\n   $topic=unserialize($news_tab[$story_limit][''topic'']);\n   $hometext=unserialize($news_tab[$story_limit][''hometext'']);\n   $notes=unserialize($news_tab[$story_limit][''notes'']);\n   $morelink=unserialize($news_tab[$story_limit][''morelink'']);\n   $topicname=unserialize($news_tab[$story_limit][''topicname'']);\n   $topicimage=unserialize($news_tab[$story_limit][''topicimage'']);\n   $topictext=unserialize($news_tab[$story_limit][''topictext'']);\n   $s_id=unserialize($news_tab[$story_limit][''id'']);\n   if ($aid) {\n      ob_start();\n         themeindex($aid, $informant, $datetime, $title, $counter, $topic, $hometext, $notes, $morelink, $topicname, $topicimage, $topictext, $s_id);\n         $remp=ob_get_contents();\n      ob_end_clean();\n   } else {\n      $remp="";\n   }\n   return ($remp);\n}', 'meta', '-', NULL, '[french]R&eacute;cup&eacute;ration de l''article complet (ID) et themisation pour incorporation<br />si ID > 0   : l''article publi&eacute; avec l''ID indiqu&eacute;e<br />si ID = 0   : le dernier article publi&eacute;<br />si ID = -1  : l''avant dernier ... jusqu''&agrave; -9 (limite actuelle)[/french]', '1'),
('!article_complet!', 'function MM_article_complet($arg) {\n   return (meta_lang("article_completID($arg)"));\n}', 'meta', '-', NULL, '[french]Alias de article_completID[/french]', '1'),
('headlineID', 'function MM_headlineID($arg) {\n   return (@headlines($arg,""));\n}', 'meta', '-', NULL, '[french]R&eacute;cup&eacute;ration du canal RSS (ID) et fabrication d''un retour pour affichage[/french]', '1'),
('!headline!', 'function MM_headline($arg) {\n   return (meta_lang("headlineID($arg)"));\n}', 'meta', '-', NULL, '[french]Alias de headlineID[/french]', '1'),
('!list_mns!', 'function MM_list_mns() {\n   global $NPDS_Prefix;\n\n   $query=sql_query("SELECT uname FROM ".$NPDS_Prefix."users WHERE mns=''1''");\n   $MT_mns="<table width=\\"100%\\">";\n   while (list($uname)=sql_fetch_row($query)) {\n      $rowcolor=tablos();\n      $MT_mns.="<tr $rowcolor><td><a href=\\"minisite.php?op=$uname\\" target=\\"_blank\\" class=\\"noir\\">$uname</a></td></tr>";\n   }\n   $MT_mns.="</table>";\n   return ($MT_mns);\n}', 'meta', '-', NULL, '[french]Affiche une liste de tout les membres poss&eacute;dant un minisite avec un lien vers ceux-ci[/french]', '1'),
('!LastMember!', 'function MM_LastMember() {\n   global $NPDS_Prefix;\n\n   $query=sql_query("SELECT uname FROM ".$NPDS_Prefix."users ORDER BY uid DESC LIMIT 0,1");\n   $result=sql_fetch_row($query);\n   return ($result[0]);\n}', 'meta', '-', NULL, '[french]Renvoie le pseudo du dernier membre inscrit[/french]', '1'),
('!edito!', 'function MM_edito() {\n   list($affich,$M_edito)=fab_edito();\n   if ((!$affich) or ($M_edito=="")) {\n      $M_edito="";\n   }\n   return ($M_edito);\n}', 'meta', '-', NULL, '[french]Fabrique et affiche l''EDITO[/french]', '1'),
('!edito-notitle!', '$cmd="!edito-notitle!";', 'meta', '-', NULL, '[french]Supprime le Titre EDITO et le premier niveau de tableau dans l''edito (ce meta-mot n''est actif que dans l''Edito)[/french]', '1'),
('!langue!', '$cmd=aff_local_langue("","index.php", "choice_user_language");', 'meta', '-', NULL, '[french]Fabrique une zone de selection des langues disponibles[/french]', '1'),
('groupe_text', 'function MM_groupe_text($arg) {\n   global $user;\n\n   $affich=false;\n   $remp="";\n   if ($arg!="") {\n      if (groupe_autorisation($arg, valid_group($user)))\n         $affich=true;\n   } else {\n      if ($user)\n         $affich=true;\n   }\n   if (!$affich) { $remp="!delete!"; }\n   return ($remp);\n}', 'meta', '-', NULL, '[french]Test si le membre appartient aux(x) groupe(s) et n''affiche que le texte encadr&eacute; par groupe_textID(ID_group) ... !/!<br />Si groupe_ID est nul, la v&eacute;rification portera simplement sur la qualit&eacute; de membre<br />Syntaxe : groupe_text(), groupe_text(10) ou groupe_textID("gp1,gp2,gp3") ... !/![/french]', '1'),
('no_groupe_text', 'function MM_no_groupe_text($arg) {\n   global $user;\n\n   $affich=true;\n   $remp="";\n   if ($arg!="") {\n      if (groupe_autorisation($arg, valid_group($user)))\n         $affich=false;\n      if (!$user)\n         $affich=false;\n   } else {\n      if ($user)\n         $affich=false;\n   }\n   if (!$affich) { $remp="!delete!"; }\n   return ($remp);\n}', 'meta', '-', NULL, '[french]Forme de ELSE de groupe_text / Test si le membre n''appartient pas aux(x) groupe(s) et n''affiche que le texte encadr&eacute; par no_groupe_textID(ID_group) ... !/!<br />Si no_groupe_ID est nul, la v&eacute;rification portera sur qualit&eacute; d''anonyme<br />Syntaxe : no_groupe_text(), no_groupe_text(10) ou no_groupe_textID("gp1,gp2,gp3") ... !/![/french]', '1'),
('!note!', 'function MM_note() {\n   return ("!delete!");\n}', 'meta', '-', NULL, '[french]Permet de stocker une note en ligne qui ne sera jamais affich&eacute;e !note! .... !/![/french]', '1'),
('!note_admin!', 'function MM_note_admin() {\n   global $admin;\n\n   if (!$admin)\n      return ("!delete!");\n   else\n      return("<b>nota</b> : ");\n}', 'meta', '-', NULL, '[french]Permet de stocker une note en ligne qui ne sera affich&eacute;e que pour les administrateurs !note_admin! .... !/![/french]', '1'),
('!/!', '!\\/!', 'meta', '-', NULL, '[french]Termine LES meta-mot ENCADRANTS (!groupe_text!, !note!, !note_admin!, ...) : le fonctionnement est assez similaire &agrave; [langue] ...[/french]', '1'),
('!debugON!', 'function MM_debugON() {\n   global $NPDS_debug, $NPDS_debug_str, $NPDS_debug_time, $NPDS_debug_cycle;\n\n   $NPDS_debug_cycle=1;\n   $NPDS_debug=true;\n   $NPDS_debug_str="<br />";\n   $NPDS_debug_time=getmicrotime();\n   return ("");\n}', 'meta', '-', NULL, '[french]Active le mode debug[/french]', '1'),
('!debugOFF!', 'function MM_debugOFF() {\n   global $NPDS_debug, $NPDS_debug_str, $NPDS_debug_time, $NPDS_debug_cycle;\n\n   $time_end = getmicrotime();\n   $NPDS_debug_str.="=> !DebugOFF!<br /><b>=> exec time for meta-lang : ".round($time_end - $NPDS_debug_time, 4)." / cycle(s) : $NPDS_debug_cycle</b><br />";\n   $NPDS_debug=false;\n   echo $NPDS_debug_str;\n   return ("");\n}', 'meta', '-', NULL, '[french]D&eacute;sactive le mode debug[/french]', '1'),
('forum_all', 'function MM_forum_all() {\n   include_once("functions.php");\n   global $NPDS_Prefix;\n\n   $rowQ1=Q_Select ("SELECT * FROM ".$NPDS_Prefix."catagories ORDER BY cat_id", 3600);\n   $Xcontent=@forum($rowQ1);\n   return ($Xcontent);\n}', 'meta', '-', NULL, '[french]Affiche toutes les categories et tous les forums (en fonction des droits)[/french]', '1'),
('forum_categorie', 'function MM_forum_categorie($arg) {\n   include_once("functions.php");\n   global $NPDS_Prefix;\n\n   $arg = arg_filter($arg);\n   $bid_tab=explode(",",$arg); $sql="";\n   foreach($bid_tab as $cat) {\n      $sql.="cat_id=''$cat'' OR ";\n   }\n   $sql=substr($sql,0,-4);\n   $rowQ1=Q_Select ("SELECT * FROM ".$NPDS_Prefix."catagories WHERE $sql", 3600);\n   $Xcontent=@forum($rowQ1);\n   return ($Xcontent);\n}', 'meta', '-', NULL, '[french]affiche la (les) categorie(s) XX (en fonction des droits) / liste de categories : "XX,YY,ZZ" [/french]', '1'),
('forum_message', 'function MM_forum_message() {\n   include_once("functions.php");\n   global $subscribe, $user;\n\n   if (($subscribe) and ($user)) {\n      $colspanX=8;\n   } else {\n      $colspanX=7;\n   }\n   if (!$user) {\n      $ibid="<tr align=\\"left\\" class=\\"lignb\\">";\n      $ibid.="<td colspan=\\"$colspanX\\" align=\\"center\\" style=\\"font-size: 10px;\\">".translate("Join us ! As a registered user, cool stuff like : forum''subscribing, special forums (hidden, members ...), post and read status, ... are avaliable.")."</td></tr>";\n   }\n   if (($subscribe) and ($user)) {\n      $ibid="<tr align=\\"left\\" class=\\"lignb\\">";\n      $ibid.="<td colspan=\\"$colspanX\\" align=\\"center\\" style=\\"font-size: 10px;\\">".translate("Check a forum and click on button for receive an Email when a new submission is made in it.")."</td></tr>";\n   }\n   return ($ibid);\n}', 'meta', '-', NULL, '[french]Affiche les messages en pied de forum (devenez membre, abonnement ...)[/french]', '1'),
('forum_recherche', 'function MM_forum_recherche() {\n   include_once("functions.php");\n\n   $Xcontent=@searchblock();\n   return ($Xcontent);\n}', 'meta', '-', NULL, '[french]Affiche la zone de saisie du moteur de recherche des forums[/french]', '1'),
('forum_icones', 'function MM_forum_icones() {\n   include_once("functions.php");\n\n   if ($ibid=theme_image("forum/icons/red_folder.gif")) {$imgtmpR=$ibid;} else {$imgtmpR="images/forum/icons/red_folder.gif";}\n   if ($ibid=theme_image("forum/icons/folder.gif")) {$imgtmp=$ibid;} else {$imgtmp="images/forum/icons/folder.gif";}\n   $ibid="<img src=\\"$imgtmpR\\" border=\\"\\" alt=\\"\\" /> = ".translate("New Posts since your last visit.")."<br />";\n   $ibid.="<img src=\\"$imgtmp\\" border=\\"\\" alt=\\"\\" /> = ".translate("No New Posts since your last visit.");\n   return ($ibid);\n}', 'meta', '-', NULL, '[french]Affiche les icones + legendes decrivant les marqueurs des forums[/french]', '1'),
('forum_subscribeON', 'function MM_forum_subscribeON() {\n   include_once("functions.php");\n   global $subscribe, $user;\n\n   $ibid="";\n   if (($subscribe) and ($user)) {\n      $ibid="<form action=\\"forum.php\\" method=\\"post\\">";\n      $ibid.="<input type=\\"hidden\\" name=\\"op\\" value=\\"maj_subscribe\\">";\n   }\n   return ($ibid);\n}', 'meta', '-', NULL, '[french]Ouvre la FORM de gestion des abonnements (attention a l''imbrication de FORM)[/french]', '1'),
('forum_bouton_subscribe', 'function MM_forum_bouton_subscribe() {\r\n   include_once("functions.php");\r\n   global $subscribe, $user;\r\n   if (($subscribe) and ($user)) {\r\n      return (''<th align="center" width="5%" class="header"><input class="btn btn-secondary" type="submit" name="Xsub" value="''.translate("Ok").''"></th>'');\r\n   } else {\r\n      return ('''');\r\n   }\r\n}', 'meta', '-', NULL, '[french]Affiche la colonne avec le bouton de gestion des abonnements[/french]', '1'),
('forum_subscribeOFF', 'function MM_forum_subscribeOFF() {\n   include_once("functions.php");\n   global $subscribe, $user;\n\n   $ibid="";\n   if (($subscribe) and ($user)) {\n      $ibid="</form>";\n   }\n   return ($ibid);\n}', 'meta', '-', NULL, '[french]Ferme la FORM de gestion des abonnements (attention a l''imbrication de FORM)[/french]', '1'),
('forum_subfolder', 'function MM_forum_subfolder($arg) {\r\n\r\n   $forum=arg_filter($arg);\r\n   $content=sub_forum_folder($forum);\r\n   return($content);\r\n}', 'meta', '-', '', '[french]Renvoie le gif permettant de savoir si de nouveaux messages sont disponibles dans le forum X<br />Syntaxe : sub_folder(X) ou X est le num&eacute;ro du forum[/french][english][/english]', '1'),
('insert_flash', 'function MM_insert_flash($name,$width,$height,$bgcol) {\n   return ("<object codebase=\\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflas\n   classid=\\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\\"\n   h.cab#version=6,0,0,0\\" width=\\"".$width."\\"\n   height=\\"".$height."\\"\n   id=\\"".$name."\\" align=\\"middle\\">\n \n   <param name=\\"allowScriptAccess\\"\n   value=\\"sameDomain\\" />\n \n   <param name=\\"movie\\"\n   value=\\"flash/".$name."\\" />\n \n   <param name=\\"quality\\" value=\\"high\\" />\n   <param name=\\"bgcolor\\"\n   value=\\"".$bgcol."\\" />\n\n   <embed src=\\"flash/".$name."\\"\n   quality=\\"high\\" bgcolor=\\"".$bgcol."\\"\n   width=\\"".$width."\\"\n   height=\\"".$height."\\"\n   name=\\"".$name."\\" align=\\"middle\\"\n   allowScriptAccess=\\"sameDomain\\"\n   type=\\"application/x-shockwave-flash\\"\n   pluginspage=\\"http://www.macromedia.com/go/getflashplayer\\" />\n\n   </object>");\n}', 'meta', '-', NULL, '[french]Insert un fichier flash (.swf) se trouvant dans un dossier "flash" de la racine du site. Syntaxe : insert_flash (nom du fichier.swf, largeur, hauteur, couleur fond : #XXYYZZ).[/french]', '1'),
('!mailadmin!', '$cmd="<a href=\\"mailto:".anti_spam($GLOBALS[''adminmail''], 1)."\\" class=\\"noir\\" target=\\"_blank\\">".anti_spam($GLOBALS[''adminmail''], 0)."</a>";', 'meta', '-', NULL, '[french]Affiche un lien vers l''adresse mail de l''administrateur.[/french]', '1'),
('!login!', 'function MM_login() {\n   $boxstuff  = "<form action=\\"user.php\\" method=\\"post\\">";\n   $boxstuff .= translate("Nickname")."<br />";\n   $boxstuff .= "<input class=\\"textbox_standard\\" type=\\"text\\" name=\\"uname\\" size=\\"12\\" maxlength=\\"25\\" /><br />";\n   $boxstuff .= translate("Password")."<br />";\n   $boxstuff .= "<input class=\\"textbox_standard\\" type=\\"password\\" name=\\"pass\\" size=\\"12\\" maxlength=\\"20\\" /><br />";\n   $boxstuff .= "<input type=\\"hidden\\" name=\\"op\\" value=\\"login\\" />";\n   $boxstuff .= "<input class=\\"bouton_standard\\" type=\\"submit\\" value=\\"".translate("Submit")."\\" />";\n   $boxstuff .= "</form>";\n   return ($boxstuff);\n}', 'meta', '-', NULL, '[french]Affiche les champs de connexion au site.[/french]', '1'),
('!connexion!', '$cmd=meta_lang("!login!");', 'meta', '-', NULL, '[french]Alias de !login![/french]', '1'),
('!administration!', 'function MM_administration() {\n   global $admin;\n   if ($admin) {\n      return("<a href=\\"admin.php\\">".translate("Administration Tools")."</a>");\n   } else {\n      return("");\n   }\n}', 'meta', '-', NULL, '[french]Affiche un lien vers l''administration du site uniquement si l''on est connect&eacute; en tant qu''admin[/french]', '1'),
('admin_infos', 'function MM_admin_infos($arg) {\n   global $NPDS_Prefix;\n\n   $arg = arg_filter($arg);\n   $rowQ1 = Q_select ("SELECT url, email FROM ".$NPDS_Prefix."authors where aid=''$arg''", 86400);\n   list(,$myrow) = each($rowQ1);\n   if (isset($myrow[''url''])) {\n      $auteur="<a href=\\"".$myrow[''url'']."\\">$arg</a>";\n   } elseif (isset($myrow[''email''])) {\n      $auteur="<a href=\\"mailto:".$myrow[''email'']."\\">$arg</a>";\n   } else {\n      $auteur=$arg;\n   }\n   return ($auteur);\n}', 'meta', '-', NULL, '[french]Affiche le Nom ou le WWW ou le Mail de l''administrateur / syntaxe : admin_infos(nom_de_admin)[/french]', '1'),
('theme_img', 'function MM_theme_img($arg) {\n   return (MM_img($arg));\n}', 'meta', '-', NULL, '[french]Localise l''image et affiche une ressource de type &lt;img src= / syntaxe : theme_img(forum/onglet.gif)[/french]', '1'),
('!logo!', '$cmd="<img src=\\"".$GLOBALS[''site_logo'']."\\" border=\\"0\\" alt=\\"\\">";', 'meta', '-', NULL, '[french]Affiche le logo du site (admin/preferences).[/french]', '1'),
('rotate_img', 'function MM_rotate_img($arg) {\r\n   mt_srand((double)microtime()*1000000);\r\n   $arg = arg_filter($arg);\r\n   $tab_img=explode(",",$arg);\r\n\r\nif (count($tab_img)>1) {\r\n   $imgnum = mt_rand(0, count($tab_img)-1);\r\n} else if (count($tab_img)==1) {\r\n   $imgnum = 0;\r\n} else {\r\n   $imgnum = -1;\r\n}\r\nif ($imgnum!=-1) {\r\n   $Xcontent="<img src=\\"".$tab_img[$imgnum]."\\" border=\\"0\\" alt=\\"".$tab_img[$imgnum]."\\" title=\\"".$tab_img[$imgnum]."\\" />";\r\n}\r\n   return ($Xcontent);\r\n}', 'meta', '-', NULL, '[french]Affiche une image al&eacute;atoire - les images de la liste sont s&eacute;par&eacute;e par une virgule / syntaxe rotate_img("http://www.npds.org/users_private/user/1.gif,http://www.npds.org/users_private/user/2.gif, ...")[/french]', '1'),
('!sql_nbREQ!', 'function MM_sql_nbREQ() {\r\n   global $sql_nbREQ;\r\n\r\n   return ("SQL REQ : $sql_nbREQ");\r\n}', 'meta', '-', NULL, '[french]Affiche le nombre de requ&ecirc;te SQL pour la page courante[/french]', '1'),
('comment_system', 'function MM_comment_system ($file_name,$topic) {\r\n\r\nglobal $NPDS_Prefix,$anonpost,$moderate,$admin,$user;\r\nob_start();   \r\n   if (file_exists("modules/comments/$file_name.conf.php")) {\r\n      include ("modules/comments/$file_name.conf.php");\r\n      include ("modules/comments/comments.php");\r\n   }\r\n   $output = ob_get_contents();\r\nob_end_clean();\r\nreturn ($output);\r\n}', 'meta', '-', '', '[french]Permet de mettre en oeuvre un syst&egrave;me de commentaire complet / la mise en oeuvre n&eacute;cessite :<br /> - un fichier dans modules/comments/xxxx.conf.php de la m&ecirc;me structure que les autres<br /> - un appel coh&eacute;rent avec la configuration de ce fichier<br /><br />L''appel est du type : comments($file_name, $topic) - exemple comment_system(edito,1) - le fichier s''appel donc edito.conf.php[/french]', '1'),
('top_stories', 'function MM_top_stories ($arg) {\r\n   $content='''';\r\n   $arg = arg_filter($arg);\r\n   $xtab=news_aff("libre","ORDER BY counter DESC LIMIT 0, ".$arg*2,0,$arg*2);\r\n   $story_limit=0;\r\n   while (($story_limit<$arg) and ($story_limit<sizeof($xtab))) {\r\n      list($sid, $catid, $aid, $title, $time, $hometext, $bodytext, $comments, $counter) = $xtab[$story_limit];\r\n      $story_limit++;\r\n      if($counter>0) {\r\n        $content.=''<li class=""><a href="article.php?sid=''.$sid.''" >''.aff_langue($title).''</a>&nbsp;<span class="label label-default pull-right">''.wrh($counter).'' ''.translate("times").''</span></li>'';\r\n     }\r\n   }\r\n   return($content);\r\n}', 'meta', '-', '', '[french]Affiche le titre et un lien sur les Top x articles / syntaxe : top_stories(x)[/french]', '1'),
('top_commented_stories', 'function MM_top_commented_stories ($arg) {\r\n   $content='''';\r\n   $arg = arg_filter($arg);\r\n   $xtab=news_aff("libre","ORDER BY comments DESC  LIMIT 0, ".$arg*2,0,$arg*2);\r\n   $story_limit=0;\r\n   while (($story_limit<$arg) and ($story_limit<sizeof($xtab))) {\r\n      list($sid, $catid, $aid, $title, $time, $hometext, $bodytext, $comments) = $xtab[$story_limit];\r\n      $story_limit++;\r\n      if($comments>0) {\r\n         $content.= ''<li class=""><a href="article.php?sid=''.$sid.''" >''.aff_langue($title).''</a>&nbsp;<span class="label label-default pull-right">''.wrh($comments).''</span></li>'';\r\n      }\r\n   }\r\n  return($content);\r\n}', 'meta', '-', '', '[french]Affiche le titre et un lien sur les Top x articles les plus comment&eacute;s / syntaxe : top_commented_stories(x)[/french]', '1'),
('top_categories', 'function MM_top_categories($arg) {\r\n   global $NPDS_Prefix;\r\n   $content='''';\r\n   $arg = arg_filter($arg);\r\n   $result = sql_query("select catid, title, counter from ".$NPDS_Prefix."stories_cat order by counter DESC limit 0,$arg");\r\n   while (list($catid, $title, $counter) = sql_fetch_row($result)) {\r\n      if ($counter>0) {\r\n         $content.= ''<li class=""><a href="index.php?op=newindex&amp;catid=''.$catid.''" >''.aff_langue($title).''</a>&nbsp;<span class="label label-default pull-right">''.wrh($counter).''</span></li>'';\r\n      }\r\n   }\r\n   sql_free_result($result);\r\n   return($content);\r\n}', 'meta', '-', '', '[french]Affiche le titre et un lien sur les Top x cat&eacute;gories des articles / syntaxe : top_categories(x)[/french]', '1'),
('top_sections', 'function MM_top_sections ($arg) {\r\n   global $NPDS_Prefix;\r\n   $content='''';\r\n   $arg = arg_filter($arg);\r\n   $result = sql_query("SELECT artid, title, counter FROM ".$NPDS_Prefix."seccont ORDER BY counter DESC LIMIT 0,$arg");\r\n   while (list($artid, $title, $counter) = sql_fetch_row($result)) {\r\n      $content.=''<li class=""><a href="sections.php?op=viewarticle&amp;artid=''.$artid.''" >''.aff_langue($title).''</a>&nbsp;<span class="label label-default pull-right">''.wrh($counter).'' ''.translate("times").''</span></li>'';\r\n   }\r\n   sql_free_result($result);\r\n   return($content);\r\n}', 'meta', '-', '', '[french]Affiche le titre et un lien sur les Top x articles des rubriques / syntaxe : top_sections(x)[/french]', '1'),
('top_reviews', 'function MM_top_reviews ($arg) {\r\n   global $NPDS_Prefix;\r\n   $content='''';\r\n   $arg = arg_filter($arg);\r\n   $result = sql_query("SELECT id, title, hits FROM reviews ORDER BY hits DESC LIMIT 0,$arg");\r\n   while (list($id, $title, $hits) = sql_fetch_row($result)) {\r\n      if ($hits>0) {\r\n         $content.= ''<li class=""><a href="reviews.php?op=showcontent&amp;id=''.$id.''" >''.$title.''</a>&nbsp;<span class="label label-default pull-right">''.wrh($hits).'' ''.translate("times").''</span></li>'';\r\n         $lugar++;\r\n      }\r\n   }\r\n   sql_free_result($result);\r\n   return($content);\r\n}', 'meta', '-', '', '[french]Affiche le titre et un lien sur les Top x des critiques / syntaxe : top_reviews(x)[/french]', '1'),
('top_authors', 'function MM_top_authors ($arg) {\r\n   global $NPDS_Prefix;\r\n   $content='''';\r\n   $arg = arg_filter($arg);\r\n   $result = sql_query("SELECT aid, counter FROM authors ORDER BY counter DESC LIMIT 0,$arg");\r\n   while (list($aid, $counter) = sql_fetch_row($result)) {\r\n      if ($counter>0) {\r\n         $content.= ''<li class=""><a href="search.php?query=&amp;author=''.$aid.''" >''.$aid.''</a>&nbsp;<span class="label label-default pull-right">''.wrh($counter).''</span></li>'';\r\n      }\r\n   }\r\n   sql_free_result($result);\r\n   return($content);\r\n}', 'meta', '-', '', '[french]Affiche le titre et un lien sur les Top x des auteurs / syntaxe : top_authors(x)[/french]', '1'),
('top_polls', 'function MM_top_polls ($arg) {\r\n   global $NPDS_Prefix;\r\n   $content='''';\r\n   $arg = arg_filter($arg);\r\n   $result = sql_query("SELECT pollID, pollTitle, voters FROM poll_desc ORDER BY voters DESC LIMIT 0,$arg");\r\n   while (list($pollID, $pollTitle, $voters) = sql_fetch_row($result)) {\r\n      if ($voters>0) {\r\n         $content.=''<li class=""><a href="pollBooth.php?op=results&amp;pollID=''.$pollID.''" >''.aff_langue($pollTitle).''</a>&nbsp;<span class="label label-default pull-right">''.wrh($voters).''</span></li>'';\r\n      }\r\n   }\r\n   sql_free_result($result);\r\n   return($content);\r\n}', 'meta', '-', '', '[french]Affiche le titre et un lien sur les Top x des sondages / syntaxe : top_polls(x)[/french]', '1'),
('top_storie_authors', 'function MM_top_storie_authors ($arg) {\r\n   global $NPDS_Prefix;\r\n   $content='''';\r\n   $arg = arg_filter($arg);\r\n   $result = sql_query("SELECT uname, counter FROM users ORDER BY counter DESC LIMIT 0,$arg");\r\n   while (list($uname, $counter) = sql_fetch_row($result)) {\r\n      if ($counter>0) {\r\n         $rowcolor = tablos();\r\n         $content.=''<li class=""><a href="user.php?op=userinfo&amp;uname=''.$uname.''" >''.$uname.''</a>&nbsp;<span class="label label-default pull-right">''.wrh($counter).''</span></li>'';\r\n      }\r\n   }\r\n   sql_free_result($result);\r\n   return($content);\r\n}', 'meta', '-', '', '[french]Affiche le titre et un lien sur les Top x des auteurs de news (membres) / syntaxe : top_storie_authors(x)[/french]', '1'),
('topic_all', 'function MM_topic_all() {\r\n   global $NPDS_Prefix, $tipath;\r\n\r\n   $count=0; $aff='''';\r\n   $aff=''<div id="lst_topi" class="list-group" >'';\r\n   $result = sql_query("SELECT topicid, topicname, topicimage, topictext FROM ".$NPDS_Prefix."topics ORDER BY topicname");\r\n   while(list($topicid, $topicname, $topicimage, $topictext) = sql_fetch_row($result)) {\r\n      if ((($topicimage) or ($topicimage!="")) and (file_exists("$tipath$topicimage"))) {\r\n         $aff.="<a class=\\"list-group-item\\" href=\\"index.php?op=newtopic&amp;topic=$topicid\\"><img class=\\"img-fluid\\" src=\\"$tipath$topicimage\\" alt=\\"topic_icon\\" />";\r\n         $aff.= ''<h4>''.aff_langue($topictext).''</h4>'';\r\n      } else {\r\n         $aff.="<a class=\\"list-group-item\\" href=\\"index.php?op=newtopic&amp;topic=$topicid\\"><h4>".aff_langue($topictext).''</h4>'';\r\n      }\r\n      $aff.=''</a>'';\r\n      $count++;\r\n   }\r\n   $aff.=''</div>'';\r\n   sql_free_result($result);\r\n   return ($aff);\r\n}', 'meta', '-', '', '[french]Affiche les sujets avec leurs images.<br />Syntaxe : topic_all()[/french][english]...[/english]', '1'),
('topic_subscribeOFF', 'function MM_topic_subscribeOFF() {\r\n   $aff= ''<div class=\\"form-group row\\"><input type="hidden" name="op" value="maj_subscribe" />'';\r\n   $aff.=''<button class="btn btn-primary" type="submit" name="ok">''.translate("Submit").''</button>'';\r\n   $aff.=''</div></fieldset></form>'';\r\n   return ($aff);\r\n}', 'meta', '-', '', '[french]Ferme la FORM de gestion des abonnements (attention a l''imbrication de FORM)[/french][english]...[/english]', '1'),
('topic_subscribeON', 'function MM_topic_subscribeON() {\r\n   return (''<form action="topics.php" method="post"><fieldset>'');\r\n}', 'meta', '-', '', '[french]Ouvre la FORM de gestion des abonnements (attention a l''imbrication de FORM)[/french][english]...[/english]', '1'),
('topic_subscribe', 'function MM_topic_subscribe($arg) {\r\n   global $NPDS_Prefix, $subscribe, $user, $cookie;\r\n   $segment = arg_filter($arg);\r\n   $count=0; $aff='''';\r\n   if ($subscribe) {\r\n      if ($user) {\r\n         $aff=''<div class="form-group row">'';\r\n         $result = sql_query("SELECT topicid, topictext, topicname FROM ".$NPDS_Prefix."topics ORDER BY topicname");\r\n         while(list($topicid, $topictext, $topicname) = sql_fetch_row($result)) {\r\n            $resultX = sql_query("SELECT topicid FROM ".$NPDS_Prefix."subscribe WHERE uid=''$cookie[0]'' AND topicid=''$topicid''");\r\n            if (sql_num_rows($resultX)=="1")\r\n               $checked=''checked'';\r\n            else\r\n               $checked='''';\r\n            $aff.="<div class=\\"".$segment."\\"><label class=\\"c-input c-checkbox\\"><input type=\\"checkbox\\" name=\\"Subtopicid[$topicid]\\" $checked /><span class=\\"c-indicator\\"></span>".aff_langue($topicname)."</label></div>";\r\n            $count++;\r\n            if ($count==$segment) {\r\n               //$aff.="</tr><tr>";\r\n               $count=0;\r\n            }\r\n         }\r\n         $aff.=''</div>'';\r\n         sql_free_result($result);\r\n      }\r\n   }\r\n   return ($aff);\r\n}', 'meta', '-', '', '[french]Affiche les noms des sujets avec la situation de l''abonnement du membre. Permet au membre de g&eacute;rer ces abonnements (aux sujets).\r\nSyntaxe : topic_subscribe(X) ou X indique le niveau de rupture dans la liste[/french][english]...[/english]', '1'),
('yt_video', 'function MM_yt_video($id_yt_video,$bloc_width,$bloc_height) {\r\n   $content="";\r\n   $id_yt_video = arg_filter($id_yt_video);\r\n   $bloc_width = arg_filter($bloc_width);\r\n   $bloc_height = arg_filter($bloc_height);\r\n\r\n   $content .=''<div class="embed-responsive embed-responsive-16by9"><object class="embed-responsive-item" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="''.$bloc_width.''" height="''.$bloc_height.''" id="bloc_FlashContent">\r\n    <param name="movie" value="http://www.youtube.com/v/''.$id_yt_video.''" />\r\n    <param name="play" value="false" />\r\n    <param name="allowfullscreen" value="true" />\r\n    <!--[if !IE]>-->\r\n     <object class="embed-responsive-item" type="application/x-shockwave-flash" data="http://www.youtube.com/v/''.$id_yt_video.''" width="''.$bloc_width.''" height="''.$bloc_height.''">\r\n     <param name="play" value="false" />\r\n     <param name="allowfullscreen" value="true" />\r\n    <!--<![endif]-->\r\n    <a href="http://www.adobe.com/go/getflashplayer">\r\n    <img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />\r\n    </a>\r\n    <!--[if !IE]>-->\r\n     </object>\r\n    <!--<![endif]-->\r\n    </object></div>'';\r\n   \r\n   return ($content);\r\n}', 'meta', '-', '', '[french]Inclusion video YouTube.  Syntaxe : yt_video(ID de la vid&eacute;o,largeur,hauteur).[/french][english]...[/english]', '1'),
('espace_groupe', 'function MM_espace_groupe($gr, $t_gr, $i_gr) {\r\n$gr = arg_filter($gr);\r\n$t_gr = arg_filter($t_gr);\r\n$i_gr = arg_filter($i_gr);\r\n\r\nreturn (fab_espace_groupe($gr, $t_gr, $i_gr));\r\n}', 'meta', '-', NULL, '[french]Fabrique un WorkSpace / syntaxe : espace_groupe(groupe_id, aff_name_groupe, aff_img_groupe) ou groupe_id est l''ID du groupe - aff_name_groupe(0 ou 1) permet d''afficher le nom du groupe - aff_img_groupe(0 ou 1) permet d''afficher l''image associ&eacute;e au groupe.[/french]', '1'),
('^', '', 'docu', '-', NULL, '[french]Dans un texte quelconque, ^ &agrave; la fin d&#39;un mot permet de le prot&eacute;ger contre meta-lang / Ex : Dev Dev^ ne donne pas un r&eacute;sultat identique[/french]', '1'),
('!N_publicateur!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le nom de l&#39;administrateur ayant publi&eacute; l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_emetteur!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le nom de l&#39;auteur de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_date!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par la date de publication de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_date_y!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par l&#39;ann&eacute;e de publication de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_date_m!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le mois de publication de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_date_d!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le jour de publication de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_date_h!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par l&#39;heure de publication de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_print!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le lien pour imprimer l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_friend!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par lien pour envoyer l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_titre!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le titre de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_texte!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le texte de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_id!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le num&eacute;ro de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_sujet!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par un lien HTML et l&#39;image du sujet de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_note!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le de la note de l&#39;article si elle existe / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_nb_lecture!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le nombre de lecture effective de l&#39;article / actif dans index-news.html et detail-news.html[/french]', '1'),
('!N_suite!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le lien HTML permettant de lire la suite de l&#39;article / actif dans index-news.html[/french]', '1'),
('!N_nb_carac!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le nombre de caract&egrave;re suppl&eacute;mentaire de l&#39;article / actif dans index-news.html[/french]', '1'),
('!N_read_more!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le lien &#39;lire la suite&#39; de l&#39;article / actif dans index-news.html[/french]', '1'),
('!N_nb_comment!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le nombre de commentaire de l&#39;article / actif dans index-news.html[/french]', '1'),
('!N_link_comment!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par lien vers les commentaires de l&#39;article / actif dans index-news.html[/french]', '1'),
('!N_categorie!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par lien vers la cat&eacute;gorie de l&#39;article / actif dans index-news.html[/french]', '1'),
('!N_previous_article!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le lien HTML pointant sur l&#39;article pr&eacute;c&eacute;dent / actif detail-news.html[/french]', '1'),
('!N_next_article!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le lien HTML sur l&#39;article suivant / actif dans detail-news.html[/french]', '1'),
('!N_boxrel_title!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par titre du bloc &#39;lien relatif&#39; / actif dans detail-news.html[/french]', '1'),
('!N_boxrel_stuff!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le contenu du bloc &#39;lien relatif&#39; / actif dans detail-news.html[/french]', '1'),
('!B_title!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le titre du bloc / actif dans bloc.html[/french]', '1'),
('!B_content!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par par le contenu du bloc / actif dans bloc.html[/french]', '1'),
('!B_class_title!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par la class CSS du titre - voir le gestionnaire de bloc de NPDS / actif dans bloc.html[/french]', '1'),
('!B_class_content!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par la class CSS du contenu - voir le gestionnaire de bloc de NPDS  / actif dans bloc.html[/french]', '1'),
('!editorial_content!', '', 'them', '-', NULL, '[french]Sera remplac&eacute; par le contenu de l&#39;Edito / actif que si editorial.html existe dans votre theme[/french]', '1'),
('!PHP!', '', 'them', '-', NULL, '[french]Int&eacute;gration de code PHP "noy&eacute;" dans vos fichiers html de th&egrave;mes :<br />\r\n=> !PHP! commentaire vous permettant de trouver le php noy&eacute; -> in fine sera remplac&eacute; par ""<br />\r\n=> &lt;!--meta  doit pr&eacute;c&eacute;der votre code php -> in fine sera remplac&eacute; par ""<br />\r\n   => meta-->   doit suivre votre code php -> in fine sera remplac&eacute; par ""<br />\r\n<br />\r\n&nbsp;Exemple :<br />\r\n&nbsp;&nbsp;!PHP!&lt;!--meta<br />\r\n&nbsp;&nbsp;&lt;?php<br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;global $cookie;<br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;$username = $cookie[1];<br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;if ($username == "") {<br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo "Create an account";<br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo "Welcome : $username";<br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\r\n&nbsp;&nbsp;?><br />\r\n&nbsp;&nbsp;meta-->[/french]', '1'),
('!blocnote!', 'function MM_blocnote($arg) {\r\n      global $REQUEST_URI;\r\n      if (!stristr($REQUEST_URI,"admin.php")) {\r\n         return(@oneblock($arg,"RB"));\r\n      } else {\r\n         return("");\r\n      }\r\n}', 'meta', '-', NULL, '[french]Fabrique un blocnote contextuel en lieu et place du meta-mot / syntaxe : !blocnote!ID - ID = Id du bloc de droite dans le gestionnaire de bloc de NPDS[/french]', '0');
